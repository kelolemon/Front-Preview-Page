{"version":3,"sources":["webpack:///./src/component/draghook.module.css","webpack:///./node_modules/classnames/index.js","webpack:///./src/component/upload.js","webpack:///./src/component/draghook.js","webpack:///./src/component/dragupload.js","webpack:///./src/pages/upload.js","webpack:///./node_modules/@material-ui/icons/PhotoCamera.js","webpack:///./node_modules/@material-ui/icons/CloudUpload.js"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","useStyles","makeStyles","theme","root","margin","spacing","input","display","UploadButtons","className","css","accept","id","multiple","type","htmlFor","Button","variant","color","button","startIcon","size","component","IconButton","aria-label","FilesDragAndDrop","props","useState","dragging","setDragging","show","text","message","setMessage","drop","useRef","drag","useEffect","current","addEventListener","handleDragOver","handleDrop","handleDragEnter","handleDragLeave","removeEventListener","e","preventDefault","stopPropagation","count","formats","files","dataTransfer","showMessage","some","file","format","name","toLowerCase","endsWith","onUpload","target","timeout","setTimeout","ref","classList","FilesDragAndDrop_placeholder_success","children","App","console","log","render","this","FilesDragAndDrop__area","Component","SimpleMenu","React","_interopRequireDefault","Object","defineProperty","value","_react","_default","createElement","Fragment","cx","cy","r","d"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,8BAAgC,wDAAwD,mCAAqC,6DAA6D,qCAAuC,+DAA+D,WAAa,qCAAqC,uBAAyB,mD,qBCD3b,QAAQ,QASR,WACE,aAEA,IAAIC,EAAS,GAAGC,eAEhB,SAASC,IAGP,IAFA,IAAIC,EAAU,GAELC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAMF,UAAUD,GACpB,GAAKG,EAAL,CACA,IAAIC,SAAiBD,EAErB,GAAgB,WAAZC,GAAoC,WAAZA,EAC1BL,EAAQM,KAAKF,QACR,GAAIG,MAAMC,QAAQJ,IAAQA,EAAID,OAAQ,CAC3C,IAAIM,EAAQV,EAAWW,MAAM,KAAMN,GAE/BK,GACFT,EAAQM,KAAKG,QAEV,GAAgB,WAAZJ,EACT,IAAK,IAAIM,KAAOP,EACVP,EAAOe,KAAKR,EAAKO,IAAQP,EAAIO,IAC/BX,EAAQM,KAAKK,IAMrB,OAAOX,EAAQa,KAAK,KAGelB,EAAOC,SAC1CG,EAAoB,QAAIA,EACxBJ,EAAOC,QAAUG,QAKhB,KAFwB,EAAF,WACrB,OAAOA,GACR,QAFoB,OAEpB,aAxCL,I,gNCEMe,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACPC,OAAQF,EAAMG,QAAQ,KAG1BC,MAAO,CACLC,QAAS,Y,2CAOE,SAASC,IACtB,IAAMtB,EAAUc,IAEhB,OACE,mBAAKS,UAAWvB,EAAQiB,KAAMO,IAAG,GAC/B,qBACEC,OAAO,IAEPF,UAAWvB,EAAQoB,MACnBM,GAAG,wBACHC,UAAQ,EACRC,KAAK,SAEP,oBAAMF,GAAG,YAAT,MACA,qBAAOG,QAAQ,yBACb,YAACC,EAAA,EAAD,CAAQC,QAAQ,YACRC,MAAM,UACNT,UAAWvB,EAAQiC,OACnBC,UAAW,YAAC,IAAD,MACXC,KAAK,QACLC,UAAU,MALlB,WAuBF,qBAAOX,OAAO,UAAUF,UAAWvB,EAAQoB,MAAOM,GAAG,mBAAmBE,KAAK,SAE7E,qBAAOC,QAAQ,oBACb,YAACQ,EAAA,EAAD,CAAaC,aAAW,iBAAiBF,UAAU,KAAKD,KAAK,SAC3D,YAAC,IAAD,S,+pCC7DJI,EAAmB,SAACC,GAAW,IAAD,EACFC,oBAAS,GAAlCC,EAD2B,KACjBC,EADiB,OAEJF,mBAAS,CAAEG,MAAM,EAAOC,KAAM,KAAMjB,KAAM,OAAjEkB,EAF2B,KAElBC,EAFkB,KAG5BC,EAAOC,mBACPC,EAAOD,mBACbE,qBAAU,WAMR,OAJAH,EAAKI,QAAQC,iBAAiB,WAAYC,GAC1CN,EAAKI,QAAQC,iBAAiB,OAAQE,GACtCP,EAAKI,QAAQC,iBAAiB,YAAaG,GAC3CR,EAAKI,QAAQC,iBAAiB,YAAaI,GACpC,WACLT,EAAKI,QAAQM,oBAAoB,WAAYJ,GAC7CN,EAAKI,QAAQM,oBAAoB,OAAQH,GACzCP,EAAKI,QAAQM,oBAAoB,YAAaF,GAC9CR,EAAKI,QAAQM,oBAAoB,YAAaD,OAGlD,IAAMH,EAAiB,SAACK,GACtBA,EAAEC,iBACFD,EAAEE,mBAGEN,EAAa,SAACI,GAClBA,EAAEC,iBACFD,EAAEE,kBACFlB,GAAY,GAHY,IAIhBmB,EAAmBtB,EAAnBsB,MAAOC,EAAYvB,EAAZuB,QACTC,EAAK,EAAOL,EAAEM,aAAaD,OAE7BF,GAASA,EAAQE,EAAM7D,OACzB+D,EAAY,UAAUJ,EAAX,4BAA6C,QAAS,KAI/DC,GAAWC,EAAMG,MAAK,SAACC,GAAD,OAAWL,EAAQI,MAAK,SAACE,GAAD,OAAYD,EAAKE,KAAKC,cAAcC,SAASH,EAAOE,qBACpGL,EAAY,QAAQH,EAAQlD,KAAK,MAAtB,sBAAkD,QAAS,KAIpEmD,GAASA,EAAM7D,SACjB+D,EAAY,WAAY,UAAW,KACnC1B,EAAMiC,SAAST,KAIbR,EAAkB,SAACG,GACvBA,EAAEC,iBACFD,EAAEE,kBACFF,EAAEe,SAAWxB,EAAKE,SAAWT,GAAY,IAGrCc,EAAkB,SAACE,GACvBA,EAAEC,iBACFD,EAAEE,kBACFF,EAAEe,SAAWxB,EAAKE,SAAWT,GAAY,IAGrCuB,EAAc,SAACrB,EAAMjB,EAAM+C,GAC/B5B,EAAW,CAAEH,MAAM,EAAMC,OAAMjB,SAC/BgD,YAAW,kBACT7B,EAAW,CAAEH,MAAM,EAAOC,KAAM,KAAMjB,KAAM,SAAW+C,IAG3D,OACE,mBACEE,IAAK7B,EACLzB,UAAWuD,IAAUvC,kBAEpBO,EAAQF,MACP,mBACErB,UACEuD,IAAUC,sCAEXjC,EAAQD,MAGZH,GACC,mBACEmC,IAAK3B,GAEL,oBAAM1B,IAAG,GAAT,eAsBHgB,EAAMwC,W,ICxGQC,E,4JACnBR,SAAW,SAACT,GACVkB,QAAQC,IAAInB,I,4GAEdoB,OAAA,WACE,OACE,YAAC,EAAD,CACEX,SAAUY,KAAKZ,SACfX,MAAO,EACPC,QAAS,CAAC,MAAO,MAAO,QAExB,mBAAKxC,UAAWuD,IAAUQ,wBAA1B,yB,GAXyBC,a,YCGlB,SAASC,IAAc,IAAD,EACHC,IAAMhD,SAAS,MADZ,UAWnC,OACE,YAAC,IAAD,KACE,YAACnB,EAAD,MACA,YAAC,EAAD,S,oCCpBN,EAAQ,QAER,IAAIoE,EAAyB,EAAQ,QAErCC,OAAOC,eAAehG,EAAS,aAAc,CAC3CiG,OAAO,IAETjG,EAAiB,aAAI,EAErB,IAAIkG,EAASJ,EAAuB,EAAQ,SAIxCK,GAAW,EAFML,EAAuB,EAAQ,SAET,SAAGI,EAAgB,QAAEE,cAAcF,EAAgB,QAAEG,SAAU,KAAMH,EAAgB,QAAEE,cAAc,SAAU,CACxJE,GAAI,KACJC,GAAI,KACJC,EAAG,QACDN,EAAgB,QAAEE,cAAc,OAAQ,CAC1CK,EAAG,+JACA,eAELzG,EAAiB,QAAImG,G,oCCrBrB,EAAQ,QAER,IAAIL,EAAyB,EAAQ,QAErCC,OAAOC,eAAehG,EAAS,aAAc,CAC3CiG,OAAO,IAETjG,EAAiB,aAAI,EAErB,IAAIkG,EAASJ,EAAuB,EAAQ,SAIxCK,GAAW,EAFML,EAAuB,EAAQ,SAET,SAAGI,EAAgB,QAAEE,cAAc,OAAQ,CACpFK,EAAG,yLACD,eAEJzG,EAAiB,QAAImG","file":"component---src-pages-upload-js-1259ced24dc4132f8717.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilesDragAndDrop\":\"draghook-module--FilesDragAndDrop--3Ph2H\",\"FilesDragAndDrop__placeholder\":\"draghook-module--FilesDragAndDrop__placeholder--2UzqE\",\"FilesDragAndDrop_placeholder_error\":\"draghook-module--FilesDragAndDrop_placeholder_error--1dMMF\",\"FilesDragAndDrop_placeholder_success\":\"draghook-module--FilesDragAndDrop_placeholder_success--2oLy6\",\"area__icon\":\"draghook-module--area__icon--w9N0n\",\"FilesDragAndDrop__area\":\"draghook-module--FilesDragAndDrop__area--3ZD_Q\"};","require(\"core-js/modules/es6.array.is-array\");\n\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames[\"default\"] = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","//从文件夹选择文件\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\nimport { css } from \"@emotion/core\"\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n  input: {\n    display: 'none',\n  },\n}));\n\n\n\n\nexport default function UploadButtons() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root} css={css`margin-top:5px`}>\n      <input\n        accept=\"*\"\n\n        className={classes.input}\n        id=\"contained-button-file\"\n        multiple\n        type=\"file\"\n      />\n      <span id=\"progress\">0%</span>\n      <label htmlFor=\"contained-button-file\">\n        <Button variant=\"contained\"\n                color=\"default\"\n                className={classes.button}\n                startIcon={<CloudUploadIcon />}\n                size=\"large\"\n                component=\"h1\"\n        >\n          Upload\n        </Button>\n      </label>\n\n\n\n\n\n\n\n\n\n\n\n\n\n      <input accept=\"image/*\" className={classes.input} id=\"icon-button-file\" type=\"file\" />\n\n      <label htmlFor=\"icon-button-file\">\n        <IconButton  aria-label=\"upload picture\" component=\"h1\" size=\"large\">\n          <PhotoCamera />\n        </IconButton>\n      </label>\n    </div>\n  );\n}","import React, { useEffect, useState, useRef } from \"react\";\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport classList from './draghook.module.css';\nimport { css } from \"@emotion/core\"\n\nconst FilesDragAndDrop = (props) => {\n  const [dragging, setDragging] = useState(false);\n  const [message, setMessage] = useState({ show: false, text: null, type: null });\n  const drop = useRef();\n  const drag = useRef();\n  useEffect(() => {\n    // useRef 的 drop.current 取代了 ref 的 this.drop\n    drop.current.addEventListener('dragover', handleDragOver);\n    drop.current.addEventListener('drop', handleDrop);\n    drop.current.addEventListener('dragenter', handleDragEnter);\n    drop.current.addEventListener('dragleave', handleDragLeave);\n    return () => {\n      drop.current.removeEventListener('dragover', handleDragOver);\n      drop.current.removeEventListener('drop', handleDrop);\n      drop.current.removeEventListener('dragenter', handleDragEnter);\n      drop.current.removeEventListener('dragleave', handleDragLeave);\n    }\n  })\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragging(false)\n    const { count, formats } = props;\n    const files = [...e.dataTransfer.files];\n\n    if (count && count < files.length) {\n      showMessage(`Sorry, ${count} files could be allowed!。`, 'error', 2000);\n      return;\n    }\n\n    if (formats && files.some((file) => !formats.some((format) => file.name.toLowerCase().endsWith(format.toLowerCase())))) {\n      showMessage(`Only ${formats.join(', ')} files are allowed!`, 'error', 2000);\n      return;\n    }\n\n    if (files && files.length) {\n      showMessage('Success！', 'success', 1000);\n      props.onUpload(files);\n    }\n  };\n\n  const handleDragEnter = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    e.target !== drag.current && setDragging(true)\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    e.target === drag.current && setDragging(false)\n  };\n\n  const showMessage = (text, type, timeout) => {\n    setMessage({ show: true, text, type, })\n    setTimeout(() =>\n      setMessage({ show: false, text: null, type: null, },), timeout);\n  };\n\n  return (\n    <div\n      ref={drop}\n      className={classList.FilesDragAndDrop}\n    >\n      {message.show && (\n        <div\n          className={\n            classList.FilesDragAndDrop_placeholder_success}\n        >\n          {message.text}\n        </div>\n      )}\n      {dragging && (\n        <div\n          ref={drag}\n        >\n          <span css={css`position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column nowrap;\n    background-color: #e7e7e7;\n    border-radius: 12px;\n    color: #ffffff;\n    font-size: 24px;\n    opacity: 1;\n    text-align: center;\n    line-height: 1.4;`}>Let it go.</span>\n\n        </div>\n      )}\n      {props.children}\n    </div>\n  );\n}\n\nFilesDragAndDrop.propTypes = {\n  onUpload: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  count: PropTypes.number,\n  formats: PropTypes.arrayOf(PropTypes.string)\n}\n\nexport { FilesDragAndDrop };\n","import React, { Component } from 'react';\nimport { FilesDragAndDrop } from './draghook';\nimport { css } from \"@emotion/core\"\nimport classList from './draghook.module.css';\n\nexport default class App extends Component {\n  onUpload = (files) => {\n    console.log(files);  // files为获得的file\n  };\n  render () {\n    return (\n      <FilesDragAndDrop\n        onUpload={this.onUpload}\n        count={1}\n        formats={['jpg', 'png', 'gif']}\n      >\n        <div className={classList.FilesDragAndDrop__area}>\n         Drag the file here.\n        </div>\n      </FilesDragAndDrop>\n    )\n  }\n}\n","import React from \"react\"\nimport Layout from \"../component/layout\"\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport UploadButtons from '../component/upload';\nimport App from '../component/dragupload';\nimport PrimarySearchAppBar from \"../component/newlayout\"\nexport default function SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <PrimarySearchAppBar>\n      <UploadButtons></UploadButtons>\n      <App></App>\n      </PrimarySearchAppBar>\n  );\n}\n","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(_react[\"default\"].Fragment, null, _react[\"default\"].createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}), _react[\"default\"].createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n})), 'PhotoCamera');\n\nexports[\"default\"] = _default;","\"use strict\";\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon[\"default\"])(_react[\"default\"].createElement(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n}), 'CloudUpload');\n\nexports[\"default\"] = _default;"],"sourceRoot":""}